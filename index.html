<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        do {
            var NFPersons = prompt("How many persons do you have ?");
        } while (isNaN(NFPersons) || NFPersons == "");
        var personData = new Array();

        for (i = 0; i < NFPersons; i++) {
            do {
                var personname = prompt("Person " + (i + 1) + " Name with min 3 char and not a number")
            } while (personname.length < 3 || !isNaN(personname));

            do {
                var personage = prompt("Person " + (i + 1) + " Age must be between 10-99");
            } while (isNaN(personage) || personage == "" || personage > 99 || personage < 10);

            do {
                var personmail = prompt("Person " + (i + 1) + " Email must be valid");
                var re =
                    /^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;
            } while (!re.test(personmail) && !personmail == "");

            do {
                var password = prompt("Person " + (i + 1) + " Password");
                var passwordConfirm = prompt("Person " + (i + 1) + "Confirm Password")
            } while (password !== passwordConfirm || password == "" || passwordConfirm == "");

            do {
                bD = prompt("Person " + (i + 1) +
                    " Date Of Birth on mm/dd/yyyy or Mar 25 2015 or 25 mar 2015 and valid with your age");
                var date = new Date(bD);
                var today = new Date();
                var pattern =
                    /^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/;
                    console.log(today.getFullYear());
                    console.log(date.getFullYear());
            } while ((today.getFullYear() - date.getFullYear()) != personage && !pattern.test(date));

            var gender = confirm("Are you male ?");
            if (gender == true) {
                var gender = "male";
            } else {
                var gender = "female";
            }

            var arrOfInterest = new Array();
            do {
                var pInterest = confirm("Do you have an interest");
                if (pInterest == true) {
                    var interest = "yes";
                    arrOfInterest.push(prompt("person " + (i + 1) + " interest"));
                }
            } while (!pInterest == false);

            var arrOfData = new Array();
            arrOfData["Name"] = personname;
            arrOfData["Age"] = personage;
            arrOfData["Mail"] = personmail;
            arrOfData["Password"] = password;
            arrOfData["Birthdate"] = bD;
            arrOfData["Gender"] = gender;
            arrOfData["Interests"] = arrOfInterest;
            personData.push(arrOfData);
            console.log(arrOfData);
        }
        for (const i in personData) {
            confirm("Name :" + personData[i]["Name"] + "\nAge : " + personData[i]["Age"] + "\nE-mail : " + personData[i]
                ["Mail"] +
                "\nPassword : " + personData[i]["Password"] +
                "\nBirthDate : " + personData[i]["Birthdate"] + "\nGender : " + personData[i]["Gender"] +
                "\nInterests : " +
                personData[i]["Interests"]);
        }
    </script>

</body>

</html>